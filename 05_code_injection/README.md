### Инструкция для студентов:

1. Ваша задача - исправить уязвимость в файле `vulnerable_app.py`, заменив опасную функцию `eval()` на безопасную альтернативу.
2. Основные требования:
   - Запретить выполнение любых вызовов функций
   - Запретить доступ к переменным и модулям
   - Разрешить только базовые математические операции (+, -, *, /, ** и т.д.)
   - Обрабатывать скобки и приоритет операций
3. Для реализации безопасного вычисления можно:
   - Использовать модуль `ast` для разбора выражения
   - Написать рекурсивный парсер математических выражений
   - Использовать регулярные выражения для валидации ввода
4. После исправления запустите тесты командой `pytest test_code_injection.py -v`.
5. Все тесты должны пройти успешно. В частности:
   - Математические выражения должны вычисляться корректно
   - Попытки выполнения кода должны блокироваться
   - В коде не должно быть вызовов `eval()`
6. Для проверки можно также запускать приложение с разными выражениями:
   ```bash
   python vulnerable_app.py "2 + 2 * 3"         # Должно работать
   python vulnerable_app.py "__import__('os')"   # Должно выдавать ошибку
   ```

Тесты проверяют как базовую функциональность вычисления выражений, так и защиту от внедрения кода.